config:
  namespace: "itsma-embedded"
  version: "24.1"
  registry: "localhost:5000"
  deployment_type: "embedded"

steps:
  - id: "health_check"
    title: "SMAX Health Check"
    notes: "Ensure all pods are in 2/2 or 1/1 Running state before starting."
    command: "kubectl get pods -n {{namespace}}"

  - id: "stop_services"
    title: "Stop SMAX Services"
    notes: "Stop all SMAX services before upgrading embedded components."
    command: "kubectl scale deployment --replicas=0 -n {{namespace}}"

  - id: "apply_upgrade"
    title: "Apply Embedded Suite Upgrade"
    notes: "This triggers the actual version change for embedded deployment."
    command: "./upgrade.sh -n {{namespace}} -v {{version}} -t {{deployment_type}}"
